<app-top-bar></app-top-bar>
<div class="principal">
  <div class="caixa-filtro">
    <div class="filtro">
      <h1>Filtro:</h1>
      <input type="text" class="filter" id="EDV" placeholder="EDV"/>
      <button (click)="filtro()">OK</button>
      <button (click)="reset()">X</button>
    </div>
  </div>
  <div class="tabela">
      <table class="table table-striped">
        <thead>
          <tr>
          <th>EDV</th>
          <th>Nome</th>
          <th>Tipo</th>
          <th>Data</th>
          <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ocorrencia of ocorrencias">
            <td>{{ocorrencia.usuario.edv}}</td>
            <td>{{ocorrencia.usuario.nome}}</td>
            <td>{{ocorrencia.ocorrencias.nome}}</td>
            <td>{{ocorrencia.dataEntrada | date: "dd/MM/yyyy" }}</td>
            <td class="itens">
              <a data-bs-toggle="modal" data-bs-target="#exampleModal2" (click)="pegaId(ocorrencia.id)"  ><img src="../../assets/icons/delete-svgrepo-com.svg" class="imgtab2" /></a>
              <a data-bs-toggle="modal" data-bs-target="#exampleModal3" (click)="mandaDoc(ocorrencia.documento)"  ><img src="../../assets/img/view.png" class="imgtab3" /></a>
              <a><img src="../../assets/icons/approve.png" class="imgtab" /></a>
            </td>
          </tr>
        </tbody>
      </table>
  </div>
</div>


  <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Deseja mesmo deletar?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
          <button type="button" class="btn btn-primary" (click)="delet()" data-bs-dismiss="modal">Confirmar</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Documento</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <img style="width: 100%; height: 95%;" src="{{caminho}}">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
        </div>
      </div>
    </div>
  </div>